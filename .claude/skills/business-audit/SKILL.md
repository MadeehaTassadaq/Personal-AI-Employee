---
name: business-audit
description: Generate comprehensive weekly business and accounting audit reports. Use when Claude needs to (1) audit all platform integrations, (2) verify financial accuracy, (3) check social media performance, (4) review task completion rates, or (5) identify operational issues. All operations are read-only and auto-approved.
---

# Business Audit

Generate comprehensive business audits covering all platform integrations.

## Overview

The business audit aggregates data from all platforms to provide:
- Platform health status
- Financial summary from Odoo
- Social media performance metrics
- Task completion analysis
- Operational recommendations

## Data Sources

### 1. Platform Connections
Check connectivity for all integrated platforms:
- Gmail MCP
- LinkedIn MCP
- WhatsApp MCP
- Facebook MCP
- Instagram MCP
- Twitter MCP
- Odoo MCP

### 2. Financial Data (Odoo)
- Outstanding receivables (AR)
- Outstanding payables (AP)
- Current month revenue
- Cash position
- AR/AP ratio

### 3. Social Media Metrics
- LinkedIn: Post engagement, profile views
- Facebook: Page insights, reach, engagement
- Instagram: Impressions, followers, engagement rate
- Twitter: Mentions, engagement, follower growth

### 4. Task Metrics (Vault)
- Tasks completed this week
- Tasks pending approval
- Tasks in progress
- Average task completion time
- Bottlenecks identified

## Audit Report Structure

```markdown
# Weekly Business Audit Report

Generated: {{date}}
Audit Period: {{start_date}} to {{end_date}}

## 1. Platform Health Status

| Platform   | Status    | Last Check | Notes     |
|------------|-----------|------------|-----------|
| Gmail      | ✅ Active | {{time}}   |           |
| LinkedIn   | ✅ Active | {{time}}   |           |
| Facebook   | ⚠️ Token Expiring | {{time}} | Renew by X |
| Instagram  | ✅ Active | {{time}}   |           |
| Twitter    | ❌ Error  | {{time}}   | Check API key |
| Odoo       | ✅ Active | {{time}}   |           |

## 2. Financial Summary

### Accounts Receivable
- Outstanding: $X,XXX.XX
- Overdue (>30 days): $X,XXX.XX
- Collections this week: $X,XXX.XX

### Accounts Payable
- Outstanding: $X,XXX.XX
- Due this week: $X,XXX.XX

### Cash Position
- Bank Balance: $X,XXX.XX
- Net Position: $X,XXX.XX

### Month-to-Date
- Revenue: $X,XXX.XX
- Expenses: $X,XXX.XX

## 3. Social Media Performance

### This Week vs Last Week
| Metric          | This Week | Last Week | Change |
|-----------------|-----------|-----------|--------|
| LinkedIn Posts  | X         | X         | +X%    |
| FB Reach        | X,XXX     | X,XXX     | +X%    |
| IG Impressions  | X,XXX     | X,XXX     | +X%    |
| Twitter Engmt   | X         | X         | +X%    |

### Top Performing Content
1. {{platform}}: {{content summary}} - {{engagement}}
2. {{platform}}: {{content summary}} - {{engagement}}

## 4. Task Completion Analysis

### This Week
- Completed: X tasks
- In Progress: X tasks
- Pending Approval: X tasks
- New (Inbox): X tasks

### Completion Rate: X%

### Bottlenecks
- {{bottleneck description}}
- {{bottleneck description}}

## 5. Audit Findings

### ⚠️ Issues Requiring Attention
1. {{issue description}}
2. {{issue description}}

### ✅ Positive Trends
1. {{positive finding}}
2. {{positive finding}}

## 6. Recommendations

### Immediate Actions
1. {{action item}}
2. {{action item}}

### This Week Focus
1. {{priority}}
2. {{priority}}

---
Audit generated by Digital FTE
Next audit: {{next_date}}
```

## API Endpoints Used

```python
# Platform Status
GET /api/status

# Audit Log
GET /api/audit

# Task Metrics
GET /api/vault/Inbox
GET /api/vault/Needs_Action
GET /api/vault/Pending_Approval
GET /api/vault/Done

# Social Media (via MCP)
- facebook_get_page_insights
- instagram_get_insights
- twitter_get_analytics
- linkedin_get_profile

# Financial (via MCP)
- odoo_get_financial_summary
- odoo_list_invoices
- odoo_get_account_balance
```

## Execution Flow

1. **Check Platform Health**
   - Test all MCP server connections
   - Note any failures or warnings

2. **Gather Financial Data**
   - Call Odoo financial summary
   - Get AR/AP details
   - Calculate key ratios

3. **Collect Social Metrics**
   - Query each platform for insights
   - Compare with previous period
   - Identify top content

4. **Analyze Tasks**
   - Count tasks in each folder
   - Calculate completion rate
   - Identify bottlenecks

5. **Generate Report**
   - Compile all data
   - Format as markdown
   - Save to `$VAULT_PATH/Reports/`

## Scheduling

Recommended: Run weekly on Monday morning

The audit can be triggered:
- Manually via `/business-audit` command
- Automatically via Ralph Wiggum loop
- Scheduled via task in vault

## Output Location

Reports are saved to:
```
$VAULT_PATH/Reports/business-audit-{{YYYY-MM-DD}}.md
```

## Integration with CEO Briefing

The business audit feeds into the CEO briefing:
1. Run business audit first
2. CEO briefing summarizes audit findings
3. Both are included in weekly report

## Rules

- All operations are read-only
- Do not modify any platform data
- Log audit execution in vault/Logs/
- Compare with previous audit for trends
- Flag critical issues prominently
